{"version":3,"sources":["reducers/userInfo/actionsCreators.js","config/socket.io.js","config/api.js","reducers/conversations/actionsCreators.js","config/getHours.js","components/InfoUser/UserConfig/styles.js","components/InfoUser/UserConfig/index.js","reducers/posts/actionsCreators.js","components/ListChat/UserChat/styles.js","components/ListChat/UserChat/index.js","components/SearchUser/styles.js","components/SearchUser/index.js","components/InfoUser/styles.js","components/InfoUser/index.js","components/Chat/Message/styles.js","components/Chat/Message/index.js","components/Chat/Posts/styles.js","components/Chat/Posts/index.js","components/Chat/SendMessage/styles.js","components/Chat/SendMessage/index.js","components/Chat/styles.js","components/Chat/index.js","components/Confirm/styles.js","components/Confirm/index.js","components/ListChat/styles.js","components/ListChat/index.js","components/Form/styles.js","components/Form/index.js","components/Auth/SignIn/index.js","components/Auth/SignUp/index.js","components/Auth/styles.js","components/Auth/index.js","pages/Chat/styles.js","pages/Chat/index.js","App.js","reducers/userInfo/index.js","reducers/posts/index.js","reducers/conversations/index.js","store/index.js","reducers/index.js","index.js"],"names":["timer","url","socket","io","token","JSON","parse","localStorage","getItem","api","axios","create","baseURL","headers","hasOwnProperty","STATUS","loadingConversations","dispatch","a","get","data","type","payload","updateStatus","cleanStatus","on","status","loginUser","email","password","post","setItem","stringify","time","place","hour","Date","getHours","minutes","getMinutes","day","getDate","month","getMonth","year","getFullYear","ConfigList","styled","ul","MenuConfig","setFileImage","configRef","useRef","useEffect","current","focus","ref","id","hidden","onChange","files","target","htmlFor","onClick","removeItem","window","location","reload","newMessage","mensagem","UserConversation","li","connect","state","listConversations","userActive","posts","loadingPosts","userChatActive","idConversation","messages","_id","userChat","search","lastUpdate","messagesNotRead","setIsShowConfirm","setDeleteUser","setShowList","useState","isMenuOptions","setIsMenuOptions","createConversation","userId","contacts","some","conversation","user","handleClickList","toString","length","every","item","className","src","imageProfile","alt","name","substring","username","onMouseLeave","idUser","ContainerSearch","div","searchUsers","userInfo","serachUsers","searchUser","query","showList","inputRef","action","onFocus","onBlur","value","placeholder","autoComplete","input","map","key","ConatinerInfo","header","PreviewImage","updateImageProfile","image","put","newImage","isMenuVisible","setIsMenuVisible","fileImage","imageProfileUpdate","FormData","append","closeUpdateImage","URL","createObjectURL","style","fontSize","gethours","updatedAt","renderStatus","setTimeout","ContainerMessage","props","isImg","isIdUserLogged","preview","Message","message","setUrlPreviewImage","data-id-message","data-js","viewed","imagePath","createdAt","ContainerPosts","main","scroll","idsMessages","page","pageActual","totalPages","nextPage","previousPosts","containerChatRef","positionLine","socketnewMessage","warningMessage","document","createElement","textContent","classList","add","querySelectorAll","positionMessage","getBoundingClientRect","top","scrollTop","insertAdjacentElement","scrollHeight","initialConversation","clientHeight","Object","keys","forEach","emit","postsPrevious","e","currentTarget","messagesViewed","getAttribute","tail","onScroll","registerIdsMessages","ContainerSend","PreviewImg","figure","messageText","setMessageText","showEmoji","setShowEmoji","fileImg","setFileImg","sendMessage","preventDefault","onSelect","emoji","native","set","autoFocus","position","bottom","left","zIndex","height","cols","rows","href","ContainerChat","MessageViewed","updateMessageRead","numberMessages","urlPreviewImage","lineRef","socketMessageRead","Container","Confirm","deleteConversation","ContainerList","section","cleanPosts","delete","isShowConfirm","deleteUser","FormContainer","form","Form","submit","signUp","setIsSignIn","messageError","onSubmit","setMessageError","login","register","confirmPassword","Auth","isSignIn","getInfoUserLogged","clearInterval","setInterval","isLogged","setIsLogged","isInitialStatusUpdate","setIsInitialStatusUpdate","getUserInfo","addEventListener","App","initialState","concat","tall","compo","conversations","contact","combineReducers","logger","__REDUX_DEVTOOLS_EXTENSION__","compose","applyMiddleware","thunk","createStore","reducers","ReactDOM","render","store","getElementById"],"mappings":"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","file":"static/js/main.bc7e4f5d.chunk.js","sourcesContent":["import api from '../../config/api'\r\nimport io from 'socket.io-client'\r\nimport { url } from '../../config/socket.io'\r\nexport const LOGIN_USER = 'user:LOGIN_USER'\r\nexport const SEARCH_USER = 'user:SEARCH_USER'\r\nexport const UPDATE_IMAGE_PROFILE = 'user:UPDATE_IMAGE_PROFILE'\r\n\r\nconst socket = io(url)\r\nlet timer\r\nexport const loginUser = (email, password) => async dispatch => {\r\n  let data = { data: '' }\r\n  data = await api.post(`/auth/sign-in`, {\r\n    email,\r\n    password\r\n  })\r\n  localStorage.setItem('@chat@', JSON.stringify({ token: data.data.token }))\r\n\r\n  // clearInterval(timer)\r\n  // timer = setInterval(() => {\r\n  //   socket.emit('online', data.data.user._id)\r\n  // }, 2000)\r\n  dispatch({\r\n    type: LOGIN_USER,\r\n    payload: data.data\r\n  })\r\n}\r\n\r\nexport const getInfoUserLogged = () => async dispatch => {\r\n  const user = await api.get('/user')\r\n  clearInterval(timer)\r\n  timer = setInterval(() => {\r\n    socket.emit('online', user.data._id)\r\n  }, 2000)\r\n  dispatch({\r\n    type: LOGIN_USER,\r\n    payload: user.data\r\n  })\r\n}\r\n\r\nexport const searchUser = (query) => async dispatch => {\r\n  let data\r\n  if (query !== '') {\r\n    data = await api.get(`/users/${query}`)\r\n  }\r\n\r\n  dispatch({\r\n    type: SEARCH_USER,\r\n    payload: data ? data.data : []\r\n  })\r\n}\r\n\r\nexport const updateImageProfile = (image) => async dispatch => {\r\n  const { data: { newImage } } = await api.put('users/imageProfile', image)\r\n  dispatch({\r\n    type: UPDATE_IMAGE_PROFILE,\r\n    payload: newImage\r\n  })\r\n}","import io from 'socket.io-client'\r\n// export const url = 'https://api-chat-back.herokuapp.com/'\r\nexport const url = 'http://localhost:3333'\r\nconst socket = io(url)\r\n\r\nexport default socket\r\n","import axios from 'axios'\r\nimport { url } from './socket.io'\r\nconst token = JSON.parse(localStorage.getItem('@chat@'))\r\nlet api\r\nif (token) {\r\n  api = axios.create({\r\n    // baseURL: 'http://localhost:3333',\r\n    baseURL: url,\r\n    headers: {\r\n      'Authorization': `Bearer ${token.hasOwnProperty('token') ? token.token : ''}`,\r\n    },\r\n  })\r\n} else {\r\n  api = axios.create({\r\n    // baseURL: 'http://localhost:3333',\r\n    baseURL: url,\r\n  })\r\n}\r\n\r\n// axios.get('https://cors-anywhere.herokuapp.com/https://api-chat-back.herokuapp.com/teste').then(te => console.log(te))\r\n\r\nexport default api","import api from '../../config/api'\r\nimport socket from '../../config/socket.io'\r\n\r\nexport const LOADING_CONVERSATIONS = 'conversations:LOADING_CONVERSATIONS'\r\nexport const UPDATE_MESSAGES_NOT_READ = 'conversations:UPDATE_MESSAGES_NOT_READ'\r\nexport const STATUS = 'convertation:USER_STATUS'\r\n\r\nexport const loadingConversations = () => async  dispatch => {\r\n  const { data } = await api.get('/conversations')\r\n\r\n  dispatch({\r\n    type: LOADING_CONVERSATIONS,\r\n    payload: data\r\n  })\r\n}\r\n\r\nexport const updateStatus = (cleanStatus) => dispatch => {\r\n  if (cleanStatus) {\r\n    dispatch({\r\n      type: STATUS,\r\n      payload: {}\r\n    })\r\n  } else {\r\n    socket.on('status', status => {\r\n      dispatch({\r\n        type: STATUS,\r\n        payload: status\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n","export default function (time, place) {\r\n  let hour = new Date(time).getHours()\r\n  let minutes = new Date(time).getMinutes()\r\n\r\n  minutes = minutes < 10 ? `0${minutes}` : minutes\r\n  hour = hour < 10 ? `0${hour}` : hour\r\n\r\n  let day = new Date(time).getDate()\r\n  let month = new Date(time).getMonth()\r\n  let year = new Date(time).getFullYear()\r\n  if (place === 'posts') {\r\n    return `${hour}:${minutes}`\r\n  }\r\n  if (day === new Date().getDate()) {\r\n    return `${hour}:${minutes}`\r\n  }\r\n  if ((new Date().getDate() - day) > 1 || new Date().getMonth() + 1 > month + 1) {\r\n    // if(new Date().getMonth() - month)\r\n    return `${day < 10 ? `0${day}` : day}/${month < 10 ? `0${month + 1}` : month}/${year}`\r\n  }\r\n  if ((new Date().getDate() - day) === 1 && place === 'list') {\r\n    return `Ontem`\r\n  } else {\r\n    return `Ontem ${hour}:${minutes}`\r\n  }\r\n\r\n  // else {\r\n  //   return `${day < 10 ? `0${day}` : day}/${month < 10 ? `0${month + 1}` : month}/${year}`\r\n  // }\r\n  // let hours = (timer / 1000 / 60 / 60)\r\n  // if (hours < 24) {\r\n  //   return `${hour}:${minutes}`\r\n  // } else if (hours > 24 && hours < 48) {\r\n  //   return `${place === 'list' ? 'ontem' : `${hour}:${minutes}`}`\r\n  // } else if (hours > 48) {\r\n  //   return `${day < 10 ? `0${day}` : day}/${month < 10 ? `0${month + 1}` : month}/${year}`\r\n  // }\r\n  // return `${hour}:${minutes}`\r\n}","import styled from 'styled-components'\r\n\r\nexport const ConfigList = styled.ul`\r\n  width: 170px;\r\n  background: #f1f1f1;\r\n  position: absolute;\r\n  top: 60px;\r\n  left: 0px;\r\n  border: solid 1px #bbb;\r\n  color: #666;\r\n  list-style-type: none;\r\n  z-index: 14;\r\n  li{\r\n    font-size: 15px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    height: 30px;\r\n    border-bottom: 1px solid #bbb;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    label{\r\n      width: 100%;\r\n      display: inline-block;\r\n      padding-top: 5px;\r\n      height: 100%;\r\n    }\r\n\r\n    &:hover{\r\n      background: #ddd;\r\n    }\r\n  }\r\n`","import React, { useRef, useEffect } from 'react'\r\nimport { ConfigList } from './styles'\r\n\r\nconst MenuConfig = ({ setFileImage }) => {\r\n  const configRef = useRef()\r\n  useEffect(() => { configRef.current.focus() }, [])\r\n  const logout = () => {\r\n    localStorage.removeItem('@chat@')\r\n    window.location.reload()\r\n  }\r\n  return (\r\n    <>\r\n      <ConfigList ref={configRef}>\r\n        <li>\r\n          <input\r\n            type=\"file\"\r\n            id=\"#file\" hidden\r\n            onChange={({ target: { files } }) => setFileImage(files[0])} />\r\n          <label htmlFor=\"#file\">\r\n            Alterar imagem\r\n        </label></li>\r\n        <li onClick={logout}>Logout</li>\r\n      </ConfigList>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MenuConfig\r\n","import api from '../../config/api'\r\nimport { UPDATE_MESSAGES_NOT_READ } from '../conversations/actionsCreators'\r\nexport const LOADING_POSTS = 'posts:LOADING_POSTS'\r\nexport const PREVIOUS_POSTS = 'posts:PREVIOUS_POSTS'\r\nexport const CLEAN_POSTS_USER = 'posts:CLEAN_POSTS_USER'\r\nexport const NEW_MESSAGE = 'posts:NEW_MESSAGE'\r\nexport const MESSAGE_READ = 'posts:MESSAGE_READ'\r\n\r\n\r\nexport const loadingPosts = (userChatActive) => async dispatch => {\r\n  let messages\r\n  if (userChatActive.idConversation) {\r\n    messages = await api.get(`conversation/messages/${userChatActive.idConversation}/1`)\r\n  }\r\n  dispatch({\r\n    type: LOADING_POSTS,\r\n    payload: {\r\n      // posts: messages ? messages.data : { messages: [], _id: userChatActive.idConversation },\r\n      posts: messages ? messages.data : { messages: [], _id: userChatActive.idConversation },\r\n      userActive: userChatActive,\r\n    }\r\n  })\r\n}\r\n\r\nexport const previousPosts = (idConversation, page) => async dispatch => {\r\n  const messages = await api.get(`conversation/messages/${idConversation}/${page}`)\r\n  dispatch({\r\n    type: PREVIOUS_POSTS,\r\n    payload: {\r\n      posts: messages.data\r\n    }\r\n  })\r\n}\r\n\r\nexport const newMessage = (mensagem) => async dispatch => {\r\n  dispatch({\r\n    type: NEW_MESSAGE,\r\n    payload: mensagem\r\n  })\r\n}\r\n\r\nexport const cleanPosts = ({ idConversation, idUser }) => async dispatch => {\r\n  await api.delete(`conversation/${idConversation}/${idUser}`)\r\n  dispatch({\r\n    type: CLEAN_POSTS_USER,\r\n    payload: idConversation\r\n  })\r\n}\r\n\r\nexport const updateMessageRead = ({ message, messagesNotRead }) => dispatch => {\r\n  dispatch({\r\n    type: UPDATE_MESSAGES_NOT_READ,\r\n    payload: {\r\n      numberMessages: messagesNotRead,\r\n      idConversation: message.conversation\r\n    }\r\n  })\r\n  dispatch({\r\n    type: MESSAGE_READ,\r\n    payload: message\r\n  })\r\n}","import styled from 'styled-components'\r\n\r\nexport const UserConversation = styled.li`\r\n  align-items:center;\r\n  background: #eee;\r\n  border-bottom: 1px solid #ddd;\r\n  cursor: pointer;\r\n  display: flex;\r\n  padding: 2px 5px;\r\n  height: 60px;\r\n  transition: background 200ms linear;\r\n  position: relative;\r\n  width: 100%;\r\n  &:hover{\r\n    background: #ddd;\r\n  }  \r\n  &:hover .btn-user-options{\r\n    display: block;\r\n  }\r\n\r\n  .user-image{\r\n    width: 40px;\r\n    img{\r\n      border-radius: 50%;\r\n      width: 100%;\r\n      max-width: 100%;\r\n    }\r\n  }\r\n\r\n  .user-info{\r\n    margin-left: 10px;\r\n    color: #666;\r\n    width: 70%;\r\n    letter-spacing: 0.6px;\r\n\r\n    p{\r\n     font-size: 12px; \r\n    }\r\n  }\r\n  .messages-not-read{\r\n    position: absolute;\r\n    background:rgba(89, 125, 204, 0.9);\r\n    width: 22px;\r\n    height: 22px;\r\n    max-height: 25px;\r\n    font-size: 14px;\r\n    padding-top: 3px ;\r\n    border-radius: 50%;\r\n    color: #F8f8f8;\r\n    left:25px;\r\n    text-align: center;\r\n    bottom: 1px;\r\n  }\r\n  .last-update{\r\n    position: absolute;\r\n    right: 10px;\r\n    top:6px;\r\n    font-size: 13px;\r\n    color: #777;\r\n    z-index: 8;\r\n  }\r\n  .btn-user-options{\r\n    position: absolute;\r\n    right: 10px;\r\n    bottom: 7px;\r\n    display: none;\r\n    z-index: 14;\r\n    width: 60px;\r\n  \r\n    i{\r\n      margin-left: 15px;\r\n      color: #888;\r\n      border-radius: 50%;\r\n      padding: 6px 12px;\r\n      transition: background 200ms ease-in;\r\n      &:hover{\r\n        background: rgba(0, 0, 0, 0.1);\r\n      }\r\n    }\r\n    .user-options{\r\n      width:160px;\r\n      position: absolute;\r\n      right: 28px;\r\n      background: #EEEEEE;\r\n      border-radius: 4px;\r\n      border: solid 1px #bbb;\r\n      z-index: 15;\r\n    }\r\n    li{\r\n      padding: 8px 5px 8px 10px;\r\n      border-bottom: 1px solid #bbb;\r\n    }\r\n  }\r\n\r\n  .add-chat a{\r\n    display: block;\r\n    text-decoration: none;\r\n    background: #7693D2;\r\n    color: #f8f8f8;\r\n    margin-top: 3px;\r\n    margin-bottom: 3px;\r\n    padding: 3px;\r\n    border-radius: 4px;\r\n    text-align: center;\r\n    width: 150px;\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport api from '../../../config/api'\r\nimport getHours from '../../../config/getHours'\r\nimport { loadingPosts } from '../../../reducers/posts/actionsCreators'\r\nimport { updateStatus } from '../../../reducers/conversations/actionsCreators'\r\nimport { UserConversation } from './styles'\r\n\r\nconst UserChat = ({ userChat, loadingPosts, search, listConversations, lastUpdate, updateStatus, userActive, posts, messagesNotRead, setIsShowConfirm, setDeleteUser, idConversation, setShowList }) => {\r\n  const [isMenuOptions, setIsMenuOptions] = useState(false)\r\n\r\n  const createConversation = async (userId) => {\r\n    const isCreatedConversation = listConversations.contacts.some(conversation => conversation.user._id === userId)\r\n    if (!isCreatedConversation) {\r\n      const { data } = await api.post('/create/conversation', { userId })\r\n      await loadingPosts({ ...userChat, idConversation: data.idConversation })\r\n      if (userActive.hasOwnProperty('_id')) {\r\n        if (userActive._id === userId) return false\r\n        updateStatus(true)\r\n        return true\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleClickList = async (idConversation) => {\r\n    if (!userActive.hasOwnProperty('_id')) {\r\n      await loadingPosts({ ...userChat, idConversation, messagesNotRead })\r\n      return false\r\n    }\r\n    if (userActive.hasOwnProperty('_id')) {\r\n      if (userActive._id.toString() === userChat._id.toString() && posts[idConversation]) {\r\n        return false\r\n      }\r\n      await loadingPosts({ ...userChat, idConversation, messagesNotRead })\r\n      updateStatus(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserConversation\r\n      onClick={() => {\r\n        listConversations.contacts.length === 0\r\n          ? createConversation(userChat._id)\r\n          : listConversations.contacts.every(item => item.user._id === userChat._id\r\n            ? handleClickList(item.idConversation)\r\n            : createConversation(userChat._id))\r\n        search && setShowList(false)\r\n      }}>\r\n      <div className=\"user-image\">\r\n        <img src={userChat.imageProfile ? userChat.imageProfile : 'images/userDefault.png'} alt=\"\" />\r\n      </div>\r\n      <div className=\"user-info\">\r\n        <div className=\"user-name\">\r\n          <h4>{userChat.name.length >= 18 ? userChat.name.substring(0, 18) + '...' : userChat.name}</h4>\r\n          <p>{userChat.username}</p>\r\n          {!search && !!messagesNotRead && <span className='messages-not-read'>\r\n            {messagesNotRead}\r\n          </span>}\r\n        </div>\r\n      </div>\r\n      {!search &&\r\n        <>\r\n          <div className=\"last-update\">\r\n            <span>{getHours(lastUpdate, 'list')}</span>\r\n          </div>\r\n          <div className=\"btn-user-options\"\r\n            onClick={() => setIsMenuOptions(!isMenuOptions)}\r\n            onMouseLeave={() => setIsMenuOptions(false)}>\r\n            <i className=\"fas fa-ellipsis-v\"></i>\r\n            {isMenuOptions && <ul className='user-options'>\r\n              <li onClick={() => {\r\n                setIsShowConfirm(true)\r\n                setDeleteUser({\r\n                  idUser: userChat._id,\r\n                  idConversation\r\n                })\r\n              }}>Excluir contato</li>\r\n            </ul>}\r\n          </div>\r\n        </>\r\n      }\r\n    </UserConversation>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  listConversations: state.listConversations,\r\n  userActive: state.posts.userActive,\r\n  posts: state.posts.posts\r\n})\r\n\r\nexport default connect(mapStateToProps, { loadingPosts, updateStatus })(UserChat)\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerSearch = styled.div`\r\n  flex: 3;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  form{\r\n    width: 60%;\r\n    position: relative;\r\n    \r\n    input{\r\n      width: 100%;\r\n      padding: 5px 3px;\r\n      border-top-left-radius: 5px;\r\n      border-bottom-left-radius: 3px;\r\n      border-top-right-radius: 5px;\r\n      border-bottom-right-radius: 3px;\r\n      border: none;\r\n      outline: 0;\r\n    }\r\n    ul{\r\n      box-shadow: 1px 1px 5px #999;\r\n      width: 100%;\r\n      position: absolute;\r\n      z-index: 12;\r\n    }\r\n  }\r\n`","import React, { useState, useRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport UserChat from '../ListChat/UserChat'\r\nimport { searchUser } from '../../reducers/userInfo/actionsCreators'\r\nimport { ContainerSearch } from './styles'\r\n\r\nconst SearchUser = ({ searchUsers, searchUser }) => {\r\n  const [showList, setShowList] = useState(false)\r\n  const inputRef = useRef()\r\n\r\n  const search = () => {\r\n    const input = inputRef.current.value\r\n    searchUser(input)\r\n  }\r\n\r\n  return (\r\n    <ContainerSearch>\r\n      <form action=\"\">\r\n        <input type=\"text\"\r\n          ref={inputRef}\r\n          onFocus={() => setShowList(true)}\r\n          onBlur={() => inputRef.current.value = ''}\r\n          placeholder='Pesquisar usuários'\r\n          name='input'\r\n          autoComplete='off'\r\n          onChange={search}\r\n        />\r\n        {showList && <ul>\r\n          {searchUsers.map(user => (\r\n            <UserChat\r\n              key={`search:${user._id}`}\r\n              search={true}\r\n              userChat={user}\r\n              setShowList={setShowList}\r\n            />\r\n          ))}\r\n        </ul>}\r\n      </form>\r\n    </ContainerSearch>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  searchUsers: state.userInfo.serachUsers\r\n})\r\n\r\nexport default connect(mapStateToProps, { searchUser })(SearchUser)\r\n","import styled from 'styled-components'\r\n\r\nexport const ConatinerInfo = styled.header`\r\n  width:100%;\r\n  background: rgba(89, 125, 204, 0.8);\r\n  height: 70px;\r\n  border-bottom: 1px solid #bbb;\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  border-top-left-radius: 8px;\r\n  border-top-right-radius: 8px;\r\n  justify-content: space-between;\r\n  \r\n  .user-logged > div, .user-conversation{\r\n    display: flex;\r\n    align-items:center;\r\n    color: #f2f2f2;\r\n    position: relative;\r\n    flex: 2;\r\n  }\r\n  .user-conversation{\r\n    flex: 2;\r\n  }\r\n  .user-logged > div{\r\n    justify-content: flex-end;\r\n    height: 100%;\r\n    i {\r\n      margin-right: 15px;\r\n      margin-left: 15px;\r\n    }\r\n  }\r\n  .user-logged{\r\n    position: relative;\r\n  }\r\n  .user-logged > div:hover{\r\n    cursor: pointer;\r\n    background: rgba(89, 125, 204, 0.5);\r\n  }\r\n  .user-img{\r\n    width: 60px;\r\n    img{\r\n      background: white;\r\n      ::selection{\r\n        background: transparent;\r\n      }\r\n      border-radius: 50%;\r\n      max-width:100%;\r\n    }\r\n  }\r\n  .user-img.conversation{\r\n    width: 40px;\r\n    float:right;\r\n  }\r\n  .user-info.logged{\r\n    margin-right: 10px;\r\n  }\r\n  .user-info.conversation{\r\n    margin-left: 10px;\r\n    p{\r\n      font-size: 14px;\r\n    }\r\n    .user-status{\r\n      position: relative;\r\n      margin-left: 4px;\r\n      &::before{\r\n        content: '';\r\n        position: relative;\r\n        top:3px;\r\n        right: 5px;\r\n        display: inline-block;\r\n        width: 15px;\r\n        height: 15px;\r\n        border-radius: 50%;\r\n        background: #4fdb66;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const PreviewImage = styled.div`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  top: 0;\r\n  left:0;\r\n  z-index: 15;\r\n\r\n  .close-preview{\r\n    color:white;\r\n    right: 250px;\r\n  }\r\n  .image-content{\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n    figure{\r\n      margin-top: 50px;\r\n      img{\r\n        display: block;\r\n        width:100%;\r\n        max-width:400px;\r\n      }\r\n    }\r\n  }\r\n  .actions{\r\n    margin: 0 auto;\r\n    align-items: center;\r\n    display: flex;\r\n    max-width: 350px;\r\n    padding-top: 20px;\r\n\r\n    .btn{\r\n      height: 45px;\r\n      text-transform: uppercase;\r\n      font-weight: 600; \r\n      width: 100%;\r\n      border: 1px solid #aaa;\r\n      outline: none;\r\n      cursor: pointer;\r\n\r\n      &:first-child{\r\n        margin-right: 10px;\r\n        background: rgba(89, 125, 204, 0.8);\r\n        color: #f8f8f8;\r\n        &:hover{\r\n          background: rgba(89, 125, 204, 0.6);\r\n        }\r\n      }\r\n    }\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport gethours from '../../config/getHours'\r\nimport UserMenuConfig from './UserConfig'\r\nimport SearchUser from '../SearchUser'\r\nimport { updateImageProfile } from '../../reducers/userInfo/actionsCreators'\r\nimport { ConatinerInfo, PreviewImage } from './styles'\r\n\r\nconst InfoUser = ({ userInfo, userActive, status, updateImageProfile }) => {\r\n  const [isMenuVisible, setIsMenuVisible] = useState(false)\r\n  const [fileImage, setFileImage] = useState(false)\r\n  const renderStatus = () => {\r\n    if (status.hasOwnProperty('_id')) {\r\n      return (\r\n        status.status ?\r\n          <small className='user-status'>\r\n            <b>Online</b>\r\n          </small>\r\n          :\r\n          <small style={{ fontSize: 11 }}>\r\n            <b>Visto por último {gethours(status.updatedAt)}</b>\r\n          </small>\r\n      )\r\n    }\r\n  }\r\n\r\n  const imageProfileUpdate = async () => {\r\n    if (fileImage) {\r\n      const data = new FormData()\r\n      data.append('imageProfile', fileImage)\r\n      updateImageProfile(data)\r\n      closeUpdateImage()\r\n    }\r\n  }\r\n\r\n  const closeUpdateImage = () => {\r\n    setFileImage(null)\r\n    setIsMenuVisible(false)\r\n  }\r\n\r\n  return (\r\n    <ConatinerInfo>\r\n      {fileImage && <PreviewImage>\r\n        <div className=\"close-preview\" onClick={closeUpdateImage}>\r\n          <i className=\"fas fa-times\"></i>\r\n        </div>\r\n        <div className=\"image-content\">\r\n          <figure>\r\n            <img src={window.URL.createObjectURL(fileImage)} alt=\"\" />\r\n          </figure>\r\n        </div>\r\n        <div className=\"actions\">\r\n          <button className='btn' onClick={imageProfileUpdate}>Confirmar</button>\r\n          <button className='btn' onClick={closeUpdateImage}>Cancelar</button>\r\n        </div>\r\n      </PreviewImage>}\r\n\r\n      <div className=\"user-conversation\">\r\n        {userActive.hasOwnProperty('_id') &&\r\n          <>\r\n            <div className=\"user-img conversation\">\r\n              <img src={userActive.imageProfile ? userActive.imageProfile : 'images/userDefault.png'} alt=\"\" />\r\n            </div>\r\n            <div className=\"user-info conversation\">\r\n              {userActive && <h4>{userActive.name}</h4>}\r\n              {userActive && <p>{userActive.username}</p>}\r\n              {renderStatus()}\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <SearchUser />\r\n      <div className=\"user-logged\">\r\n        <div onClick={() => setTimeout(() => setIsMenuVisible(!isMenuVisible), 100)}>\r\n          <i className=\"fas fa-sort-down\"></i>\r\n          <div className=\"user-info logged\">\r\n            {userInfo.name && <h3>{userInfo.name}</h3>}\r\n            {userInfo.email && <p>{userInfo.email}</p>}\r\n          </div>\r\n          <div className=\"user-img logged\">\r\n            <img src={userInfo.imageProfile ? userInfo.imageProfile : 'images/userDefault.png'} alt=\"\" />\r\n          </div>\r\n        </div>\r\n        {isMenuVisible &&\r\n          <UserMenuConfig\r\n            setFileImage={setFileImage}\r\n            setIsMenuVisible={setIsMenuVisible} />\r\n        }\r\n      </div>\r\n    </ConatinerInfo>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userInfo: state.userInfo,\r\n  status: state.listConversations.status,\r\n  userActive: state.posts.userActive\r\n})\r\n\r\nexport default connect(mapStateToProps, { updateImageProfile })(InfoUser)\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerMessage = styled.div`\r\n  clear: both;\r\n  position: relative;\r\n\r\n .warningMessage{\r\n    text-align: center;\r\n    font-weight: bold;\r\n    font-size: 13px;\r\n    color: #888;\r\n    width: fit-content;\r\n    background: #dcdcdc;\r\n    border-bottom: 1px solid #bbb;\r\n    display: block;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n    margin: 0 auto;\r\n  } \r\n\r\n  .content-message{\r\n    width: fit-content;\r\n    min-width:40px;\r\n    max-width: ${props => props.isImg ? '40%' : '60%'};\r\n    background: ${props => props.isIdUserLogged ? 'beige' : '#f8f8f8'};\r\n    margin-bottom: 5px;\r\n    border-radius: 6px;\r\n    padding: 5px 8px;\r\n    z-index: 2;\r\n    float: ${props => props.isIdUserLogged ? 'right' : 'left'};\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: ${props => props.preview ? 'static' : 'relative'};\r\n\r\n    &::after{\r\n      content: '';\r\n      position: absolute;\r\n      border-width: 10px;\r\n      border-color: beige transparent transparent transparent;\r\n      border-style: solid;\r\n      top:0;\r\n      right: -10px;\r\n      ${props => !props.isIdUserLogged && `\r\n        left: -10px;\r\n        right: inherit;\r\n        border-color: #f8f8f8 transparent transparent transparent;\r\n      `}\r\n    }\r\n\r\n    .content-img{\r\n      width: 100%;\r\n      overflow: hidden;\r\n      max-width: 100%;\r\n      max-height: 250px;\r\n    }\r\n    .content-img img{\r\n      width: 210px;\r\n      margin: 0 auto;\r\n      text-align: center;\r\n      display: block;\r\n      transition: transform 300ms ease-in-out;\r\n    }\r\n    div{\r\n      .hour{\r\n        position: relative;\r\n        width: 30px;\r\n        font-weight: 600;\r\n        color: #777;\r\n        float: right;\r\n        font-size: 11px;\r\n        right: -7px;\r\n        margin-top: 3px;\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport getHours from '../../../config/getHours'\r\nimport { ContainerMessage } from './styles'\r\n\r\nconst Message = ({ isIdUserLogged, message, setUrlPreviewImage }) => {\r\n\r\n  return (\r\n    <ContainerMessage\r\n      isIdUserLogged={isIdUserLogged}\r\n      data-id-message={message._id}\r\n      data-js={!isIdUserLogged && `viewed:${message.viewed}`}\r\n      isImg={false}>\r\n      {message &&\r\n        <div className=\"content-message\">\r\n          {message.imagePath && <div className=\"content-img\">\r\n            <img\r\n              onClick={() => setUrlPreviewImage(message.imagePath)}\r\n              src={message.imagePath}\r\n              alt=\"\" />\r\n          </div>}\r\n          <div>\r\n            <p>{message.message}</p>\r\n            <span className='hour'>\r\n              {getHours(message.createdAt, 'posts')}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      }\r\n    </ContainerMessage>\r\n  )\r\n}\r\n\r\nexport default Message\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerPosts = styled.main`\r\n  background: #d6d6c5;\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 5px 15px;\r\n  overflow-y: auto;\r\n  position: relative;\r\n  \r\n  ::-webkit-scrollbar {\r\n    width: 6px;\r\n    background: #F4F4F4;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 5px;\r\n    border-radius: 5px;\r\n    background:rgba(172, 167, 167, 0.8); \r\n  }\r\n`","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport io from 'socket.io-client'\r\nimport socket, { url } from '../../../config/socket.io'\r\nimport { newMessage, previousPosts } from '../../../reducers/posts/actionsCreators'\r\nimport Message from '../Message'\r\nimport { ContainerPosts } from './styles'\r\n\r\nlet scroll = {}\r\nlet idsMessages = {}\r\nlet page = 0\r\nconst Posts = ({ posts, userInfo, idConversation, containerChatRef, positionLine, messagesNotRead, pageActual, nextPage, previousPosts, totalPages, setUrlPreviewImage }) => {\r\n  const [loadingMessages, setLoadingMessages] = useState(false)\r\n  const [isMessagesNotRead, setMessageWarning] = useState(false)\r\n\r\n  let socketnewMessage = io(url)\r\n  useEffect(() => {\r\n    if (!messagesNotRead) {\r\n      containerChatRef.current.scrollTop = containerChatRef.current.scrollHeight\r\n    } else {\r\n      let warningMessage = document.createElement('span')\r\n      warningMessage.textContent = 'Mensagen(s) não visualizada(s)'\r\n      warningMessage.classList.add('warningMessage')\r\n      const messages = document.querySelectorAll('[data-js=\"viewed:false\"]')[0]\r\n      let positionMessage = messages.getBoundingClientRect().top\r\n      containerChatRef.current.scrollTop = (positionMessage - positionLine) + 100\r\n      messages.insertAdjacentElement('afterbegin', warningMessage)\r\n    }\r\n    // if (scroll[idConversation]) {\r\n    //   containerChatRef.current.scrollTop = scroll[idConversation]\r\n    // }\r\n    socketnewMessage.on('newMessage', () => {\r\n      if (containerChatRef.current.scrollHeight - containerChatRef.current.scrollTop - 100 < 600) {\r\n        containerChatRef.current.scrollTop = containerChatRef.current.scrollHeight\r\n      }\r\n      initialConversation()\r\n    })\r\n    initialConversation()\r\n  }, [idConversation])\r\n\r\n  const initialConversation = () => {\r\n    if (containerChatRef.current.scrollHeight === containerChatRef.current.clientHeight) {\r\n      const messages = document.querySelectorAll('[data-js=\"viewed:false\"]')\r\n      if (messages) {\r\n        Object.keys(idsMessages).forEach(id => {\r\n          messages.forEach(async message => {\r\n            if (message.getBoundingClientRect().top < positionLine) {\r\n              socket.emit('registerMessageViewed', id)\r\n            }\r\n          })\r\n        })\r\n        idsMessages = {}\r\n      }\r\n    }\r\n  }\r\n  const registerIdsMessages = (message) => {\r\n    if (message.idUser.toString() !== userInfo._id && !message.viewed) {\r\n      idsMessages = {\r\n        ...idsMessages,\r\n        [message._id]: message._id\r\n      }\r\n    }\r\n  }\r\n\r\n  const postsPrevious = async (e) => {\r\n    if (e.currentTarget.scrollTop < 200) {\r\n      if (pageActual < totalPages && page !== pageActual) {\r\n        page = pageActual\r\n        await previousPosts(idConversation, nextPage)\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n  const messagesViewed = async (e) => {\r\n    scroll = {\r\n      ...scroll,\r\n      [idConversation]: e.currentTarget.scrollTop\r\n    }\r\n    if (Object.keys(idsMessages).length > 0) {\r\n      const messages = document.querySelectorAll('[data-js=\"viewed:false\"]')\r\n      messages.forEach(message => {\r\n        if (idsMessages[message.getAttribute('data-id-message')]) {\r\n          let id = idsMessages[message.getAttribute('data-id-message')]\r\n          if (message.getBoundingClientRect().top < positionLine) {\r\n            let { [id]: key, ...tail } = idsMessages\r\n            idsMessages = {\r\n              ...tail\r\n            }\r\n            socket.emit('registerMessageViewed', id)\r\n          }\r\n        }\r\n      })\r\n    }\r\n    await postsPrevious(e)\r\n  }\r\n\r\n  return (\r\n    <ContainerPosts ref={containerChatRef} onScroll={messagesViewed}>\r\n      {posts[idConversation].map(message => {\r\n        registerIdsMessages(message)\r\n        return (\r\n          <Message\r\n            setUrlPreviewImage={setUrlPreviewImage}\r\n            key={message._id}\r\n            isIdUserLogged={message.idUser.toString() === userInfo._id}\r\n            message={message}\r\n          />\r\n        )\r\n      })}\r\n    </ContainerPosts>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userInfo: state.userInfo,\r\n  posts: state.posts.posts,\r\n  pageActual: state.posts.page,\r\n  totalPages: state.posts.totalPages,\r\n  nextPage: state.posts.nextPage,\r\n  messagesNotRead: state.posts.userActive.messagesNotRead\r\n})\r\n\r\nexport default connect(mapStateToProps, { newMessage, previousPosts })(Posts)\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerSend = styled.div`\r\n  background: #ddd;\r\n  padding: 5px 15px;\r\n  width: 100%;\r\n  height: 100px;\r\n  display: flex;\r\n  /* padding-bottom:15px; */\r\n  flex-wrap:wrap;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  .message-content{\r\n    textarea{\r\n      max-width: 400px;\r\n      resize: none;\r\n      overflow-x: hidden;\r\n      padding-left:12px;\r\n      padding-top:10px;\r\n      border-radius: 50px;\r\n      border: solid 1px #bbb;\r\n      outline:0;\r\n      @media (max-width: 900px) {\r\n        max-width: 320px;\r\n      }\r\n    }\r\n  }\r\n  .icons i{\r\n    font-size: 28px;\r\n    color: #3bb6e7;\r\n    margin-left: 10px;\r\n    cursor: pointer;\r\n  }\r\n  .icons .fa-laugh{\r\n    color: #999;\r\n  }\r\n  .btn-send{\r\n    margin-left: 8px;\r\n    a{\r\n      border-radius: 20px;\r\n      text-decoration:none;\r\n      background: #aaa;\r\n      color: #f8f8f8;\r\n      font-size: 18px;\r\n      padding: 10px 40px;\r\n      display: block;\r\n      letter-spacing: 0.8px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n`\r\n\r\nexport const PreviewImg = styled.figure`\r\n  position: absolute;\r\n  max-width: 100%;\r\n  width: 100%;\r\n  padding: 15px 0;\r\n  left: 0;\r\n  background: #eee;\r\n  bottom: 100%;\r\n  z-index: 10;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .header{\r\n    .close{\r\n      position: absolute;\r\n      right: 50px;\r\n      top: 10px;\r\n      font-size: 28px;\r\n      cursor: pointer;\r\n      color: #444;\r\n    }\r\n\r\n    .image-name{\r\n      margin-bottom: 20px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n\r\n  .img-content{\r\n    max-width: 45%;\r\n    max-height: 380px;\r\n    img{\r\n      max-width: 80%;\r\n      max-height: 380px;\r\n      width: 100%;\r\n    }\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Picker } from 'emoji-mart'\r\nimport { loadingConversations } from '../../../reducers/conversations/actionsCreators'\r\nimport 'emoji-mart/css/emoji-mart.css'\r\nimport api from '../../../config/api'\r\nimport { ContainerSend, PreviewImg } from './styles'\r\n\r\nconst SendMessage = ({ userActive, loadingConversations, containerChatRef }) => {\r\n  const [messageText, setMessageText] = useState('')\r\n  const [showEmoji, setShowEmoji] = useState(false)\r\n  const [fileImg, setFileImg] = useState(null)\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault()\r\n    if (messageText || fileImg) {\r\n      const data = new FormData()\r\n      data.append('userId', userActive._id)\r\n      data.append('message', messageText)\r\n      data.append('image', fileImg ? fileImg : '')\r\n      await api.post('conversation/message', data)\r\n      if (containerChatRef.current) {\r\n        containerChatRef.current.scrollTop = containerChatRef.current.scrollHeight\r\n      }\r\n      setMessageText('')\r\n      setFileImg(null)\r\n    }\r\n  }\r\n\r\n  const addEmoji = (e) => {\r\n    let emoji = e.native;\r\n    setMessageText(messageText + emoji)\r\n  }\r\n\r\n  return (\r\n    <ContainerSend>\r\n      {fileImg && <PreviewImg>\r\n        <div className=\"header\">\r\n          <div className=\"image-name\">\r\n            <p>{fileImg.name}</p>\r\n          </div>\r\n          <div className=\"close\" onClick={() => setFileImg(null)}>\r\n            <i className=\"fas fa-times\"></i>\r\n          </div>\r\n        </div>\r\n        <div className=\"img-content\">\r\n          <img src={URL.createObjectURL(fileImg)} alt=\"\" />\r\n        </div>\r\n      </PreviewImg>}\r\n      <div className=\"message-content\">\r\n        {showEmoji && <Picker\r\n          onSelect={addEmoji}\r\n          set={'google'}\r\n          autoFocus='true'\r\n          style={{ position: 'absolute', bottom: '80px', left: 0, zIndex: 20, height: '' }}\r\n        />}\r\n        <textarea\r\n          cols=\"50\"\r\n          rows=\"2\"\r\n          placeholder='Escreva uma mensagem'\r\n          value={messageText}\r\n          onChange={({ target }) => setMessageText(target.value)}\r\n        />\r\n      </div>\r\n      <input type=\"file\" name=\"\" id=\"#file\" hidden onChange={({ target: { files } }) => setFileImg(files[0])} />\r\n\r\n      <div className=\"icons\">\r\n        <i className=\"far fa-laugh\" onClick={() => setShowEmoji(!showEmoji)} />\r\n        <label htmlFor=\"#file\">\r\n          <i className=\"fas fa-image\" />\r\n        </label>\r\n      </div>\r\n      <div className=\"btn-send\">\r\n        <a href=\"/\" onClick={sendMessage}>Enviar</a>\r\n      </div>\r\n    </ContainerSend>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userActive: state.posts.userActive,\r\n  listConversations: state.listConversations\r\n})\r\n\r\nexport default connect(mapStateToProps, { loadingConversations })(SendMessage)\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerChat = styled.div`\r\n  flex: 1 1 70%;\r\n  height: 90%;\r\n  display:flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  background-image: url('images/speech-bubble.svg');\r\n  background-repeat: no-repeat;\r\n  background-position-x: 70px;\r\n`\r\n\r\nexport const MessageViewed = styled.div`\r\n  max-width: 1060px;\r\n  height: 30px;\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom:90px;\r\n  overflow: unset\r\n`","import React, { useEffect, useRef, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport io from 'socket.io-client'\r\nimport Posts from './Posts'\r\nimport { newMessage, updateMessageRead } from '../../reducers/posts/actionsCreators'\r\nimport { loadingConversations } from '../../reducers/conversations/actionsCreators'\r\nimport SendMessage from './SendMessage'\r\nimport { ContainerChat, MessageViewed } from './styles'\r\nimport socketMessageRead, { url } from '../../config/socket.io'\r\n\r\nlet positionLine\r\nconst Chat = ({ userActive, newMessage, loadingConversations, updateMessageRead }) => {\r\n  const [urlPreviewImage, setUrlPreviewImage] = useState(\"\")\r\n  const containerChatRef = useRef()\r\n  const lineRef = useRef()\r\n\r\n  useEffect(() => {\r\n    positionLine = lineRef.current.getBoundingClientRect().top\r\n    const socket = io(url)\r\n    socket.on('newMessage', message => {\r\n      newMessage(message)\r\n      loadingConversations()\r\n    })\r\n    socketMessageRead.on('messageRead', message => {\r\n      updateMessageRead(message)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {urlPreviewImage &&\r\n        <div className=\"preview-image\">\r\n          <div className=\"close-preview\" onClick={() => setUrlPreviewImage(false)}>\r\n            <i className=\"fas fa-times\"></i>\r\n          </div>\r\n          <figure>\r\n            <img src={urlPreviewImage} alt=\"\" />\r\n          </figure>\r\n        </div>\r\n      }\r\n      <ContainerChat>\r\n        {userActive.hasOwnProperty('_id') &&\r\n          <Posts\r\n            positionLine={positionLine}\r\n            idConversation={userActive.idConversation}\r\n            containerChatRef={containerChatRef}\r\n            setUrlPreviewImage={setUrlPreviewImage}\r\n          />\r\n        }\r\n        <MessageViewed ref={lineRef} />\r\n        {userActive.hasOwnProperty('_id')\r\n          && <SendMessage containerChatRef={containerChatRef}\r\n          />\r\n        }\r\n      </ContainerChat>\r\n    </>\r\n  )\r\n}\r\nconst mapStateToProps = state => ({\r\n  userActive: state.posts.userActive\r\n})\r\nexport default connect(mapStateToProps, { newMessage, loadingConversations, updateMessageRead })(Chat)\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  height: 120px;\r\n  width: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 6;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: #eee;\r\n\r\n  .close-modal{\r\n    position: absolute;\r\n    right: 10%;\r\n    top: 10px;\r\n    font-size: 26px;\r\n  }\r\n  .confirm-content{\r\n    padding-top:10px;\r\n    text-align:center;\r\n\r\n    h3{\r\n      letter-spacing: 0.7px;\r\n      margin-left: 5px;\r\n    }\r\n    i{\r\n      color: #eaf73b;\r\n      font-size: 26px;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n\r\n  .btn-actions{\r\n    margin-top: 20px;\r\n\r\n    .btn{\r\n      max-width: 160px;\r\n      width: 100%;\r\n      height: 30px;\r\n      text-transform: uppercase;\r\n      font-weight: 600;\r\n      border: 1px solid #aaa;\r\n      outline: 0;\r\n      cursor: pointer;\r\n      &:hover{\r\n        background: rgba(255, 255, 255, 0.6)\r\n      }\r\n    }\r\n    .btn.ok{\r\n      margin-left: 10px;\r\n      background: #7693D2;\r\n      color: #f8f8f8;\r\n      &:hover{\r\n        background: rgba(118, 147, 210, 0.8);\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport { Container } from './styles'\r\n\r\nconst Confirm = ({ setIsShowConfirm, deleteConversation }) => {\r\n  return (\r\n    <Container>\r\n      <div className=\"close-modal\" onClick={() => setIsShowConfirm(false)}>\r\n        <i className=\"fas fa-times\"></i>\r\n      </div>\r\n      <div className=\"confirm-content\">\r\n        <h4>\r\n          <i className=\"fas fa-exclamation-triangle\"></i>\r\n          Deseja realmente excluir o contato? Todas as mensagens serão apagadas. <br />Deseja realmente continuar?\r\n        </h4>\r\n        <div className=\"btn-actions\">\r\n          <button className='btn cancel' onClick={() => setIsShowConfirm(false)}>\r\n            Cancelar\r\n          </button>\r\n          <button className='btn ok' onClick={() => deleteConversation()}>\r\n            Excluir\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Confirm\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerList = styled.section`\r\nposition: relative;\r\nflex: 1 1 25%;\r\n@media (max-width: 930px) {\r\n  /* min-width: 500px; */\r\n  /* flex: 0;    */\r\n}\r\n.content{\r\n  z-index: 5;\r\n  position: relative;\r\n  height: 100%;\r\n  background: #ffffef;\r\n  /* height: 90%; */\r\n  overflow-y: auto;\r\n  border-left: solid 1px #bbb;\r\n    /* @media (max-width: 930px) {\r\n      transform: translateX(110%);\r\n      height: 100%;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n    } */\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport UserChat from './UserChat'\r\nimport Confirm from '../Confirm'\r\nimport { cleanPosts } from '../../reducers/posts/actionsCreators'\r\nimport { loadingConversations } from '../../reducers/conversations/actionsCreators'\r\nimport { ContainerList } from './styles'\r\n\r\nconst ListChat = ({ listConversations, cleanPosts, loadingConversations }) => {\r\n  const [isShowConfirm, setIsShowConfirm] = useState(false)\r\n  const [deleteUser, setDeleteUser] = useState({})\r\n\r\n  const deleteConversation = async () => {\r\n    await cleanPosts(deleteUser)\r\n    loadingConversations()\r\n    setIsShowConfirm(false)\r\n  }\r\n  return (\r\n    <>\r\n      {isShowConfirm && <Confirm\r\n        deleteConversation={deleteConversation}\r\n        setIsShowConfirm={setIsShowConfirm} />\r\n      }\r\n      <ContainerList>\r\n        <div className=\"content\">\r\n          <ul className=\"list-conversas\">\r\n            {listConversations.contacts.map(conversation => (\r\n              <UserChat\r\n                key={conversation.user._id}\r\n                userChat={conversation.user}\r\n                lastUpdate={conversation.updatedAt}\r\n                idConversation={conversation.idConversation}\r\n                messagesNotRead={conversation.messagesNotRead}\r\n                setDeleteUser={setDeleteUser}\r\n                setIsShowConfirm={setIsShowConfirm}\r\n              />\r\n            ))}\r\n          </ul>\r\n\r\n        </div>\r\n      </ContainerList>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  listConversations: state.listConversations\r\n})\r\n\r\nexport default connect(mapStateToProps, { cleanPosts, loadingConversations })(ListChat)\r\n","import styled from 'styled-components'\r\n\r\nexport const FormContainer = styled.form`\r\n  text-align: center;\r\n  width: 100%;\r\n  max-width: 350px;\r\n  margin: 0 auto;\r\n\r\n  .error{\r\n    color: red;\r\n    display: block;\r\n    margin-bottom: 10px;\r\n  }\r\n  .group-input{\r\n    margin-bottom: 15px;\r\n    position: relative;\r\n\r\n    &:before{\r\n      content: '*';\r\n      color: red;\r\n      position: absolute;\r\n      display: block;\r\n      left: -10px;\r\n    }\r\n  }\r\n  input{\r\n    width: 100%;\r\n    max-width: 350px;\r\n    padding: 8px 5px;\r\n  }\r\n  .btn-actions{\r\n    margin: 0 auto;\r\n    align-items: center;\r\n    display: flex;\r\n    max-width: 350px;\r\n    \r\n    .fa-arrow-left{\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .btn{\r\n    height: 45px;\r\n    text-transform: uppercase;\r\n    font-weight: 600; \r\n    width: 100%;\r\n    border: 1px solid #aaa;\r\n    outline: none;\r\n    cursor: pointer;\r\n\r\n  }\r\n  .sign-in{\r\n    background: rgba(89, 125, 204, 0.8);\r\n    color: #f8f8f8;\r\n    &:hover{\r\n      background: rgba(89, 125, 204, 0.6);\r\n    }\r\n  }\r\n  .sign-up{\r\n    &:hover{\r\n      background: rgba(0, 0, 0, 0.1);\r\n      color: #444;\r\n    }\r\n  }\r\n\r\n`","import React from 'react'\r\nimport { FormContainer } from './styles'\r\n\r\nconst Form = ({ submit, signUp, setIsSignIn, messageError }) => {\r\n  return (\r\n    <FormContainer onSubmit={submit}>\r\n      <span className='error'>{messageError}</span>\r\n      {signUp && <div className=\"group-input\">\r\n        <input type=\"text\" name='name' placeholder='Digite seu nome completo' />\r\n      </div>}\r\n      <div className=\"group-input\">\r\n        <input type=\"email\" name='email' placeholder='Digite seu email' />\r\n      </div>\r\n      <div className=\"group-input\">\r\n        <input type=\"password\" name='password' placeholder='Digite sua senha' />\r\n      </div>\r\n      {signUp && <div className=\"group-input\">\r\n        <input type=\"password\" name='confirmPassword' placeholder='Confirme sua senha' />\r\n      </div>}\r\n      <div className=\"btn-actions\">\r\n        <button\r\n          onClick={() => signUp ? setIsSignIn(true) : setIsSignIn(false)}\r\n          className='btn sign-up'\r\n          type='button'>\r\n          {signUp\r\n            ? <span><i className=\"fas fa-arrow-left\" />Voltar</span>\r\n            : 'Cadastre-se'}\r\n        </button>\r\n        <button className='btn sign-in'>{signUp ? 'Cadastre-se' : 'Login'}</button>\r\n      </div>\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default Form\r\n","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loginUser } from '../../../reducers/userInfo/actionsCreators'\r\nimport Form from '../../Form'\r\n\r\nconst SignIn = ({ loginUser, setIsSignIn, messageError, setMessageError }) => {\r\n  useEffect(() => {\r\n    setMessageError('')\r\n  }, [])\r\n\r\n  const login = async (e) => {\r\n    e.preventDefault()\r\n    const { email, password } = e.target\r\n    if (!email.value || !password.value) {\r\n      setMessageError('Preencha os campos corretamente!')\r\n      return false\r\n    }\r\n\r\n    await loginUser(email.value, password.value)\r\n    window.location.reload()\r\n  }\r\n  return (\r\n    <Form submit={login} setIsSignIn={setIsSignIn} messageError={messageError} />\r\n  )\r\n}\r\n\r\nexport default connect(null, { loginUser })(SignIn)\r\n","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport api from '../../../config/api'\r\nimport { loginUser } from '../../../reducers/userInfo/actionsCreators'\r\nimport Form from '../../Form'\r\n\r\nconst SignUp = ({ setIsSignIn, messageError, setMessageError, loginUser }) => {\r\n  useEffect(() => {\r\n    setMessageError('')\r\n  }, [])\r\n  const register = async (e) => {\r\n    e.preventDefault()\r\n    const { name, email, password, confirmPassword } = e.target\r\n    if (!name.value || !email.value || !password.value || !confirmPassword.value) {\r\n      setMessageError('Todos os campos são obrigatórios!')\r\n      return false\r\n    }\r\n\r\n    if (password.value !== confirmPassword.value) {\r\n      setMessageError('Senhas diferentes!')\r\n      return false\r\n    }\r\n    try {\r\n      await api.post('auth/register', {\r\n        name: name.value,\r\n        email: email.value,\r\n        password: password.value\r\n      })\r\n      await loginUser(email.value, password.value)\r\n      window.location.reload()\r\n    } catch (error) {\r\n      setMessageError('Ocorreu um erro ao tentar se cadastrar!')\r\n    }\r\n\r\n  }\r\n  return (\r\n    <Form submit={register} setIsSignIn={setIsSignIn} signUp={true} messageError={messageError} />\r\n  )\r\n}\r\n\r\nexport default connect(null, { loginUser })(SignUp)\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.section`\r\n  background: #ddd;\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  header{\r\n    text-align:center;\r\n\r\n    .logo{\r\n      font-size: 7.5em;\r\n      color: rgba(89, 125, 204, 0.8);\r\n      p{\r\n        font-size: 20px;\r\n      }\r\n    }\r\n    .login{\r\n      color: #444;\r\n      font-style: italic;\r\n      font-size: 1.4em;\r\n    }\r\n  }\r\n`","import React, { useState } from 'react'\r\nimport SignIn from './SignIn'\r\nimport SignUp from './SignUp'\r\nimport { Container } from './styles'\r\nconst Auth = () => {\r\n  const [isSignIn, setIsSignIn] = useState(true)\r\n  const [messageError, setMessageError] = useState('')\r\n  return (\r\n    <Container>\r\n      <header>\r\n        <div className=\"logo\">\r\n          <i className=\"fas fa-comments\"></i>\r\n          <p>Chat</p>\r\n        </div>\r\n        <div className=\"login\">\r\n          <h1>{isSignIn ? 'Login' : 'Cadastro'}</h1>\r\n        </div>\r\n      </header>\r\n      {isSignIn\r\n        ? <SignIn\r\n          setIsSignIn={setIsSignIn}\r\n          messageError={messageError}\r\n          setMessageError={setMessageError} />\r\n        : <SignUp\r\n          setIsSignIn={setIsSignIn}\r\n          messageError={messageError}\r\n          setMessageError={setMessageError} />}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import styled from 'styled-components'\r\n\r\nexport const ContainerChat = styled.div`\r\n  max-width: 1160px;\r\n  width: 100%;\r\n  height: 78vh;\r\n  border: 1px solid #bbb;\r\n  margin: 40px auto;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  position: relative;\r\n\r\n  @media (max-height:670px){\r\n    height: 85vh\r\n  }\r\n  .preview-image{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #f8f8f8;\r\n    z-index: 10;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    figure{\r\n      width: 100%;\r\n      img{\r\n        margin: 20px auto;\r\n        display: block;\r\n        max-width: 70%;\r\n        max-height: 500px;\r\n      }\r\n    }\r\n  }\r\n`","import React, { useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateStatus } from '../../reducers/conversations/actionsCreators'\r\nimport { loginUser, getInfoUserLogged } from '../../reducers/userInfo/actionsCreators'\r\nimport { loadingConversations } from '../../reducers/conversations/actionsCreators'\r\nimport InfoUser from '../../components/InfoUser'\r\nimport Posts from '../../components/Chat'\r\nimport ListChat from '../../components/ListChat'\r\nimport Auth from '../../components/Auth'\r\nimport { ContainerChat } from './styles'\r\nimport socket from '../../config/socket.io'\r\nlet timer\r\n\r\nconst Chat = ({ userInfo, loadingConversations, userActive, updateStatus, getInfoUserLogged }) => {\r\n  const [isLogged, setIsLogged] = useState(null)\r\n  const [isInitialStatusUpdate, setIsInitialStatusUpdate] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const getUserInfo = async () => {\r\n      const token = JSON.parse(localStorage.getItem('@chat@'))\r\n      if (token) {\r\n        setIsLogged(true)\r\n        getInfoUserLogged()\r\n        loadingConversations()\r\n      } else {\r\n        setIsLogged(false)\r\n      }\r\n    }\r\n    getUserInfo()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (userActive.hasOwnProperty('_id')) {\r\n      clearInterval(timer)\r\n      timer = setInterval(() => {\r\n        socket.emit('verifyStatus', userActive._id)\r\n      }, 3000)\r\n    }\r\n  }, [userActive])\r\n\r\n  useEffect(() => {\r\n    if (!isInitialStatusUpdate) {\r\n      updateStatus()\r\n      setIsInitialStatusUpdate(true)\r\n    }\r\n  }, [userActive])\r\n\r\n  userInfo._id && window.addEventListener('beforeunload', function () {\r\n    socket.emit('off', userInfo._id)\r\n    return ''\r\n  })\r\n\r\n  return (\r\n    <ContainerChat>\r\n      {isLogged === false && <Auth />}\r\n\r\n      {isLogged && <>\r\n        {/* info user and search users */}\r\n        <InfoUser socket={socket} />\r\n        {/* Component message */}\r\n        <Posts />\r\n        {/* Component list users */}\r\n        <ListChat />\r\n      </>}\r\n    </ContainerChat>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  userInfo: state.userInfo,\r\n  userActive: state.posts.userActive\r\n})\r\n\r\nexport default connect(mapStateToProps, { updateStatus, loadingConversations, loginUser, getInfoUserLogged })(Chat)\r\n","import React from 'react';\nimport Chat from './pages/Chat'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Chat />\n    </div>\n  );\n}\n\nexport default App\n","import { LOGIN_USER, SEARCH_USER, UPDATE_IMAGE_PROFILE } from './actionsCreators'\r\n\r\nconst initialState = {\r\n  serachUsers: []\r\n}\r\n\r\nconst userInfo = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_USER:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case SEARCH_USER:\r\n      return {\r\n        ...state,\r\n        serachUsers: action.payload\r\n      }\r\n    case UPDATE_IMAGE_PROFILE:\r\n      return {\r\n        ...state,\r\n        imageProfile: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default userInfo","import { LOADING_POSTS, NEW_MESSAGE, CLEAN_POSTS_USER, MESSAGE_READ, PREVIOUS_POSTS } from './actionsCreators'\r\n\r\nconst initialState = {\r\n  posts: {},\r\n  userActive: {}\r\n}\r\n\r\nconst loadingPosts = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOADING_POSTS: {\r\n      const { userActive, posts } = action.payload\r\n      return {\r\n        ...state,\r\n        ...posts,\r\n        posts: {\r\n          ...state.posts,\r\n          [posts.idConversation]: posts.posts\r\n        },\r\n        userActive: userActive\r\n      }\r\n    }\r\n    case PREVIOUS_POSTS: {\r\n      const { posts } = action.payload\r\n      return {\r\n        ...state,\r\n        ...action.payload.posts,\r\n        posts: {\r\n          ...state.posts,\r\n          [posts.idConversation]: [...posts.posts, ...state.posts[posts.idConversation]]\r\n        },\r\n      }\r\n    }\r\n    case NEW_MESSAGE: {\r\n      const { conversation } = action.payload\r\n      return {\r\n        ...state,\r\n        posts: {\r\n          ...state.posts,\r\n          [conversation]: state.posts[conversation]\r\n            ? state.posts[conversation].concat(action.payload)\r\n            : [action.payload]\r\n        }\r\n      }\r\n    }\r\n    case CLEAN_POSTS_USER: {\r\n      const { [action.payload]: id, ...tall } = state.posts\r\n      return {\r\n        posts: {\r\n          ...tall\r\n        },\r\n        userActive: {}\r\n      }\r\n    }\r\n    case MESSAGE_READ: {\r\n      const { _id, conversation } = action.payload\r\n      return {\r\n        ...state,\r\n        posts: {\r\n          ...state.posts,\r\n          [conversation]: state.posts[conversation].map(message => message._id === _id\r\n            ? { ...action.payload }\r\n            : message)\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default loadingPosts","import { LOADING_CONVERSATIONS, STATUS, UPDATE_MESSAGES_NOT_READ } from './actionsCreators'\r\n\r\nconst initialState = {\r\n  contacts: [],\r\n  status: {}\r\n}\r\nconst conversations = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOADING_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        contacts: action.payload\r\n      }\r\n    case STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.payload\r\n      }\r\n    case UPDATE_MESSAGES_NOT_READ:\r\n      return {\r\n        ...state,\r\n        contacts: state.contacts.map(contact => contact.idConversation === action.payload.idConversation\r\n          ? { ...contact, messagesNotRead: action.payload.numberMessages }\r\n          : contact)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default conversations","import { compose, createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport reducers from '../reducers'\r\n\r\nconst logger = () => {\r\n  return window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n}\r\nlet compo\r\nif (logger()) {\r\n  compo = compose(applyMiddleware(thunk), logger())\r\n} else {\r\n  compo = compose(applyMiddleware(thunk))\r\n}\r\n\r\nexport default createStore(reducers, {}, compo)","import { combineReducers } from 'redux'\r\nimport userInfo from './userInfo'\r\nimport posts from './posts'\r\nimport listConversations from './conversations'\r\n\r\nexport default combineReducers({\r\n  userInfo,\r\n  posts,\r\n  listConversations\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport App from './App';\nimport './index.css';\nimport store from './store'\nimport 'normalize.css'\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}